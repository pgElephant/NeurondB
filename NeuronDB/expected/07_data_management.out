-- Test data management functions
CREATE TABLE test_vectors_dm (
    id serial PRIMARY KEY,
    embedding vector,
    created_at timestamptz DEFAULT now(),
    last_accessed timestamptz,
    is_compressed boolean DEFAULT false
);
INSERT INTO test_vectors_dm (embedding) VALUES 
    ('[1.0, 0.0, 0.0]'),
    ('[0.0, 1.0, 0.0]'),
    ('[0.0, 0.0, 1.0]');
-- Test vacuum (should return count)
SELECT vacuum_vectors('test_vectors_dm', false) >= 0 AS vacuum_executed;
ERROR:  operator does not exist: record >= integer
LINE 1: SELECT vacuum_vectors('test_vectors_dm', false) >= 0 AS vacu...
                                                        ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
-- Test compress (should return count)
SELECT compress_cold_tier('test_vectors_dm', 30) >= 0 AS compress_executed;
ERROR:  function compress_cold_tier(unknown, integer) does not exist
LINE 1: SELECT compress_cold_tier('test_vectors_dm', 30) >= 0 AS com...
               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
-- Test rebalance
SELECT rebalance_index('test_index', 0.8) AS rebalance_executed;
ERROR:  relation "test_index" does not exist
LINE 1: SELECT rebalance_index('test_index', 0.8) AS rebalance_execu...
                               ^
DROP TABLE test_vectors_dm;
